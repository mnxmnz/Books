---
sidebar_position: 1
---

# 1장 디자인 패턴과 프로그래밍 패러다임

## 1.1 디자인 패턴

디자인 패턴이란 프로그램을 설계할 때 발생했던 문제점을 객체 간의 상호 관계 등을 이용하여 해결할 수 있도록 하나의 '규약' 형태로 만들어 놓은 것을 의미합니다.

### 1.1.1 싱글톤 패턴

싱글톤 패턴은 하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴입니다. 데이터베이스 연결 모듈에 많이 쓰입니다. 하나의 인스턴스를 만들고 해당 인스턴스를 다른 모듈이 공유하며 사용하기 때문에 인스턴스를 생성할 때 드는 비용이 줄어드는 장점이 있습니다. 하지만 의존성이 높아진다는 단점이 있습니다.

리터럴 `{}` 또는 `new Object` 로 객체를 생성하면 다른 어떤 객체와도 같지 않기 때문에 이 자체만으로 싱글톤 패턴을 구현할 수 있습니다.

```js
const obj1 = { a: 27 };
const obj2 = { a: 27 };

console.log(obj1 === obj2); // false
```

실제 싱글톤 패턴은 다음과 같은 코드로 구성됩니다.

```js
class Singleton {
  constructor() {
    if (!Singleton.instance) {
      Singleton.instance = this;
    }
    return Singleton.instance;
  }

  getInstance() {
    return this.instance;
  }
}

const a = new Singleton();
const b = new Singleton();

console.log(a === b); // true
```

`Singleton.instance` 라는 하나의 인스턴스를 가지는 `Singleton` 클래스를 구현한 모습입니다.

#### 싱글톤 패턴의 단점

싱글톤 패턴은 TDD를 할 때 걸림돌이 됩니다. TDD를 할 때 주로 단위 테스트를 하는데, 단위 테스트는 테스트가 서로 독립적이어야 하며 테스트를 어떤 순서로든 실행할 수 있어야 합니다.

하지만 싱글톤 패턴은 미리 생성된 하나의 인스턴스를 기반으로 구현하는 패턴이므로 테스트마다 '독립적인' 인스턴스를 만들기 어렵습니다.

#### 의존성 주입

싱글톤 패턴은 사용하기가 쉽고 굉장히 실용적이지만 모듈 간의 결합을 강하게 만들 수 있다는 단점이 있습니다. 이때 의존성 주입(DI, Dependency Injection)을 통해 모듈 간의 결합을 조금 느슨하게 만들어 해결할 수 있습니다.

메인 모듈이 다른 하위 모듈에 대한 의존성을 '직접' 주지 않고 '간접'적으로 주입하는 방식입니다. 이를 통해 메인 모듈은 하위 모듈에 대한 의존성이 떨어지게 됩니다. 참고로 이를 '디커플링 된다'라고도 합니다.

#### 의존성 주입의 장점

모듈을 쉽게 교체할 수 있는 구조가 되어 테스팅과 마이그레이션을 진행하기 수월해집니다. 또한, 구현할 때 추상화 레이어를 넣고 이를 기반으로 구현체를 넣어 주기 때문에 애플리케이션 의존성 방향이 일관되고, 애플리케이션을 쉽게 추론할 수 있으며, 모듈 간의 관계들이 조금 더 명확해집니다.

#### 의존성 주입의 단점

모듈이 더욱 분리되므로 클래스 수가 늘어나 복잡성이 증가할 수 있으며 런타임 페널티가 생기기도 합니다.

#### 의존성 주입 원칙

상위 모듈은 하위 모듈에서 어떠한 것도 가져오지 않아야 합니다. 또한, 둘 다 추상화에 의존해야 하며, 이때 추상화는 세부 사항에 의존하지 말아야 합니다.

### 1.1.2 팩토리 패턴

### 1.1.3 전략 패턴

### 1.1.4 옵저버 패턴

### 1.1.5 프록시 패턴과 프록시 서버

### 1.1.6 이터레이터 패턴

### 1.1.7 노출모듈 패턴

### 1.1.8 MVC 패턴

### 1.1.9 MVP 패턴

### 1.1.10 MVVM 패턴

## 1.2 프로그래밍 패러다임

### 1.2.1 선언형과 함수형 프로그래밍

### 1.2.2 객체지향 프로그래밍

### 1.2.3 절차형 프로그래밍

### 1.2.4 패러다임의 혼합
